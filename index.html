<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
      <link rel="icon" type="image/svg+xml" href="/vite.svg" />
      <script src="https://cdn.tailwindcss.com"></script>
      <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#DEB449',
                        sidebar: '#F0EFE8',
                        chat: '#E8E3D3',
                        conversations: '#F9F7F5'
                    }
                }
            }
        }
      </script>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Chat Application</title>
</head>
  <body class="flex justify-center items-center w-screen h-screen bg-white">
    <div class="flex w-[1700px] h-[900px] bg-white shadow-[0_4px_10px_rgba(0,0,0,0.25)]">
      <!-- Sidebar gauche - FIXE -->
      <div class="flex gap-4 justify-center items-center flex-col w-[10%] h-full bg-[#F0EFE8]">
        <div class="border border-[#DEB449] rounded-[10px] p-[20px] w-[100px] h-[80px] hover:bg-[#DEB449] cursor-pointer transition-colors duration-200" 
             data-section="messages">
          <div class="flex justify-center ">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="25" fill="currentColor" class="bi bi-chat-square-fill" viewBox="0 0 16 16">
              <path d="M2 0a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h2.5a1 1 0 0 1 .8.4l1.9 2.533a1 1 0 0 0 1.6 0l1.9-2.533a1 1 0 0 1 .8-.4H14a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z"/>
            </svg>
          </div>
          <div class="flex justify-center"><label>Messages</label></div>
        </div>

        <div class="border border-[#DEB449] rounded-[10px] p-[20px] w-[100px] h-[80px] hover:bg-[#DEB449] cursor-pointer transition-colors duration-200" 
             data-section="groupes">
          <div class="flex justify-center items-start">
            <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-person-fill" viewBox="0 0 16 16">
              <path d="M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6"/>
            </svg>
          </div>
          <div class="flex justify-center"><label>Groupes</label></div>
        </div>

        <div class="border border-[#DEB449] rounded-[10px] p-[20px] w-[100px] h-[80px] hover:bg-[#DEB449] cursor-pointer transition-colors duration-200" 
             data-section="diffusions">
          <div class="flex justify-center">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
              <path fill="currentColor" d="M20 16a3 3 0 0 0-1.73.56l-2.45-1.45A3.7 3.7 0 0 0 16 14a4 4 0 0 0-3-3.86V7.82a3 3 0 1 0-2 0v2.32A4 4 0 0 0 8 14a3.7 3.7 0 0 0 .18 1.11l-2.45 1.45A3 3 0 0 0 4 16a3 3 0 1 0 3 3a3 3 0 0 0-.12-.8l2.3-1.37a4 4 0 0 0 5.64 0l2.3 1.37A3 3 0 1 0 20 16M4 20a1 1 0 1 1 1-1a1 1 0 0 1-1 1m8-16a1 1 0 1 1-1 1a1 1 0 0 1 1-1m0 12a2 2 0 1 1 2-2a2 2 0 0 1-2 2m8 4a1 1 0 1 1 1-1a1 1 0 0 1-1 1"/>
            </svg>
          </div>
          <div class="flex justify-center"><label>Diffusions</label></div>
        </div>

        <div class="border border-[#DEB449] rounded-[10px] p-[20px] w-[100px] h-[80px] hover:bg-[#DEB449] cursor-pointer transition-colors duration-200" 
             data-section="archives">
          <div class="flex justify-center">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-archive" viewBox="0 0 16 16">
              <path d="M0 2a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1v7.5a2.5 2.5 0 0 1-2.5 2.5h-9A2.5 2.5 0 0 1 1 12.5V5a1 1 0 0 1-1-1zm2 3v7.5A1.5 1.5 0 0 0 3.5 14h9a1.5 1.5 0 0 0 1.5-1.5V5zm13-3H1v2h14zM5 7.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5"/>
            </svg>
          </div>
          <div class="flex justify-center"><label>Archives</label></div>
        </div>

        <div class="border border-[#DEB449] rounded-[10px] p-[20px] w-[100px] h-[80px] hover:bg-[#DEB449] cursor-pointer transition-colors duration-200" 
             data-section="nouveau">
          <div class="flex justify-center">
            <svg xmlns="http://www.w3.org/2000/svg" width="26" height="25" fill="currentColor" class="bi bi-plus-lg" viewBox="0 0 16 16">
              <path fill-rule="evenodd" d="M8 2a.5.5 0 0 1 .5.5v5h5a.5.5 0 0 1 0 1h-5v5a.5.5 0 0 1-1 0v-5h-5a.5.5 0 0 1 0-1h5v-5A.5.5 0 0 1 8 2"/>
            </svg>
          </div>
          <div class="flex justify-center"><label>Nouveau</label></div>
        </div>
      </div>

      <!-- Contenu principal - DYNAMIQUE -->
      <div id="main-content" class="w-[90%] h-full flex">
        <!-- Section Messages (par d√©faut) -->
        <div id="messages-section" class="content-section w-full flex">
          <!-- Liste des conversations -->
          <div class="w-[44.4%] h-full bg-[#F9F7F5] flex flex-col">
            <!-- Layout fixe - Header -->
            <div class="h-[5vh] px-[20px] py-[10px] flex justify-between items-center">
              <label class="text-[25px]">Discussions</label>
              
              <!-- Menu avec bouton d√©connexion -->
              <div class="relative">
                  <button 
                      id="menuButton"
                      class="hover:bg-gray-100 p-1 rounded-full transition-colors"
                  >
                      <svg xmlns="http://www.w3.org/2000/svg" 
                           fill="currentColor" 
                           viewBox="0 0 16 16" 
                           class="w-6 h-6">
                          <path d="M8 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm0 1a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3zm0 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3z"/>
                      </svg>
                  </button>
                  
                  <!-- Menu d√©roulant -->
                  <div id="dropdownMenu" class="hidden absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-50">
                      <!-- Info utilisateur -->
                      <div class="px-4 py-2 text-sm text-gray-700 border-b">
                          Connect√© en tant que <span id="userDisplay" class="font-medium"></span>
                      </div>
                      
                      <!-- Bouton d√©connexion -->
                      <button
                          onclick="handleLogout()"
                          class="w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-gray-100 flex items-center gap-2"
                      >
                          <svg xmlns="http://www.w3.org/2000/svg" 
                               fill="none"
                               viewBox="0 0 24 24"
                               stroke="currentColor"
                               class="w-4 h-4">
                          <path stroke-linecap="round" 
                                stroke-linejoin="round" 
                                stroke-width="2" 
                                d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1" />
                      </svg>
                      D√©connexion
                  </button>
              </div>
          </div>
        </div>
            <!-- Layout fixe - Search -->
            <div class="px-[20px]">
              <input type="text" class="h-[30px] w-full border rounded px-4" placeholder="Recherche">
            </div>
            <!-- Contenu dynamique -->
            <div id="conversations-list-messages" class="flex flex-col flex-1 overflow-y-auto">
              <!-- Template pour l'affichage des contacts -->
              <div id="contacts-container">
                  <template id="contact-template">
                    <div class="flex w-full h-[10vh] px-[20px] py-[10px] cursor-pointer hover:bg-white transition-colors border-b border-gray-200 relative">
                      <!-- Indicateur de pr√©sence en ligne -->
                      <div class="absolute top-2 right-2 flex items-center gap-2">
                          <div class="w-3 h-3 rounded-full bg-gray-400 online-indicator"></div>
                          <span class="text-xs text-gray-500 status-text">Hors ligne</span>
                      </div>
                      <div class="flex items-center gap-4">
                        <div class="w-12 h-12 bg-gray-300 rounded-full flex items-center justify-center">
                          <!-- Ic√¥ne ou photo de profil par d√©faut -->
                          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-person-fill" viewBox="0 0 16 16">
                            <path d="M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6"/>
                          </svg>
                        </div>
                        <div class="flex-1">
                          <div class="font-medium text-md">Nom du Contact</div>
                          <div class="text-sm text-gray-500">Dernier message ou info</div>
                        </div>
                      </div>
                    </div>
                  </template>
              </div>
            </div>
          </div>

          <!-- Zone de chat principale -->
          <div class="w-[55.6%] h-full bg-[#E8E3D3] flex flex-col">
            <!-- En-t√™te du chat -->
            <div class="h-[60px] bg-[#F0EFE8] flex items-center px-4 border-b border-gray-300">
              <div class=" flex justify-center items-center w-10 h-10 bg-gray-500 rounded-full mr-3"></div>
              <div class="flex-1">
                <div class="font-semibold text-lg">S√©lectionnez un contact</div>
              </div>
              <div class="flex gap-2">
                <!-- Ic√¥ne vid√©o -->
                <div class="w-8 h-8 border border-orange-500 rounded-full flex items-center justify-center cursor-pointer">
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="orange" viewBox="0 0 16 16">
                    <path d="M0 5a2 2 0 0 1 2-2h7.5a2 2 0 0 1 1.6.8L14 7.5a2.5 2.5 0 0 1 0 1L11.1 12.2a2 2 0 0 1-1.6.8H2a2 2 0 0 1-2-2V5Z"/>
                  </svg>
                </div>
                <!-- Ic√¥ne archive -->
                <div class="w-8 h-8 border border-gray-500 rounded-full flex items-center justify-center cursor-pointer hover:bg-gray-600 transition-colors">
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-archive text-gray-800" viewBox="0 0 16 16">
                    <path d="M0 2a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1v7.5a2.5 2.5 0 0 1-2.5 2.5h-9A2.5 2.5 0 0 1 1 12.5V5a1 1 0 0 1-1-1zm2 3v7.5A1.5 1.5 0 0 0 3.5 14h9a1.5 1.5 0 0 0 1.5-1.5V5zm13-3H1v2h14zM5 7.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5"/>
                  </svg>
                </div>
                <!-- Ic√¥ne recherche -->
                <div class="w-8 h-8 border border-black rounded-full flex items-center justify-center cursor-pointer">
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-square-fill" viewBox="0 0 16 16">
  <path d="M0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2z"/>
</svg>
                </div>
                <!-- Supprimer messages -->
                <div class="w-8 h-8 border border-red-800 rounded-full flex items-center justify-center cursor-pointer hover:bg-black transition-colors"
                     onclick="clearConversation()">
                    <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="red" viewBox="0 0 16 16">
                        <path d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5Zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5Zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6Z"/>
                        <path d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1ZM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118ZM2.5 3h11V2h-11v1Z"/>
                    </svg>
                </div>
              </div>
            </div>

            <!-- Zone des messages -->
            <div class="flex-1 p-4 overflow-y-auto" id="messages-container">
              <div class="flex items-center justify-center h-full text-gray-500">
                S√©lectionnez une conversation pour voir les messages
              </div>
            </div>

            <!-- Zone de saisie -->
            <div class="h-[60px] bg-[#F0EFE8] flex items-center px-4 gap-3">
              <input 
                type="text"
                id="messageInput"
                placeholder="Tapez votre message..."
                class="flex-1 bg-white rounded-full px-4 py-2 border border-gray-300 focus:outline-none focus:border-primary transition-colors"
              >
              <button id="sendBtn" class="w-10 h-10 bg-green-500 rounded-full flex items-center justify-center hover:bg-green-600 transition-colors">
                <svg xmlns="http://www.w3.org/2000/svg" width="35" height="20" fill="currentColor" class="bi bi-arrow-right text-white font-bold" viewBox="0 0 16 16">
                  <path fill-rule="evenodd" d="M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8"/>
                </svg>
              </button>
            </div>

            <!-- Indicateur de saisie -->
            <div class="typing-indicator hidden">
                <div class="flex items-center gap-2 text-gray-500 text-sm">
                    <div class="flex gap-1">
                        <div class="w-2 h-2 bg-gray-400 rounded-full animate-bounce"></div>
                        <div class="w-2 h-2 bg-gray-400 rounded-full animate-bounce" style="animation-delay: 0.2s"></div>
                        <div class="w-2 h-2 bg-gray-400 rounded-full animate-bounce" style="animation-delay: 0.4s"></div>
                    </div>
                    <span>En train d'√©crire...</span>
                </div>
            </div>
          </div>
        </div>

        <!-- Section Groupes (cach√©e par d√©faut) -->
        <div id="groupes-section" class="content-section w-full hidden flex">
          <!-- Liste des conversations avec layout fixe -->
          <div class="w-[44.4%] h-full bg-[#F9F7F5] flex flex-col">
            <!-- Layout fixe - Header -->
            <div class="h-[5vh] px-[20px] py-[10px] flex justify-between items-center">
              <label class="text-[25px]">Groupes</label>
              <button id="createGroupBtn" class="bg-primary text-white px-4 py-2 rounded-lg hover:bg-yellow-500 transition-colors">
                Nouveau Groupe
              </button>
            </div>
            <!-- Layout fixe - Search -->
            <div class="px-[20px]">
              <input type="text" class="h-[30px] w-full border rounded px-4" placeholder="Rechercher un groupe">
            </div>
            <!-- Liste des groupes -->
            <div id="groups-list" class="flex-1 overflow-y-auto">
              <!-- Les groupes seront ajout√©s ici dynamiquement -->
            </div>
          </div>

          <!-- Zone de chat -->
          <div class="w-[55.6%] h-full bg-[#E8E3D3] flex flex-col">
            <!-- En-t√™te du groupe -->
            <div id="group-chat-header" class="h-16 bg-[#F0EFE8] border-b border-gray-200 flex items-center px-4 justify-between">
              <div class="flex items-center">
                <div class="w-10 h-10 bg-primary rounded-full flex items-center justify-center text-white font-bold mr-3">G</div>
                <div>
                    <h2 id="group-name" class="font-bold">S√©lectionnez un groupe</h2>
                    <p id="group-members-count" class="text-sm text-gray-500">0 membres</p>
                </div>
              </div>
              <div class="flex gap-2">
                <button id="addMembersBtn" class="w-8 h-8 bg-primary rounded-full flex items-center justify-center hover:bg-yellow-500 transition-colors">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="white" viewBox="0 0 16 16">
                        <path d="M1 14s-1 0-1-1 1-4 5-4 5 3 5 4-1 1-1 1H7zm4-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/>
                        <path fill-rule="evenodd" d="M13.5 5a.5.5 0 0 1 .5.5V7h1.5a.5.5 0 0 1 0 1H14v1.5a.5.5 0 0 1-1 0V8h-1.5a.5.5 0 0 1 0-1H13V5.5a.5.5 0 0 1 .5-.5z"/>
                    </svg>
                </button>
                <button id="viewMembersBtn" class="w-8 h-8 bg-gray-500 rounded-full flex items-center justify-center">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="white" viewBox="0 0 16 16">
                        <path d="M7 14s-1 0-1-1 1-4 5-4 5 3 5 4-1 1-1 1H7zm4-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/>
                        <path fill-rule="evenodd" d="M5.216 14A2.238 2.238 0 0 1 5 13c0-1.355.68-2.75 1.936-3.72A6.325 6.325 0 0 0 5 9c-4 0-5 3-5 4s1 1 1 1h4.216z"/>
                        <path d="M4.5 8a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5z"/>
                    </svg>
                </button>
              </div>
            </div>

            <!-- Zone des messages -->
            <div id="group-messages" class="flex-1 overflow-y-auto p-4">
              <div class="flex items-center justify-center h-full text-gray-500">
                S√©lectionnez un groupe pour voir les messages
              </div>
            </div>

            <!-- Zone de saisie -->
            <div class="h-16 bg-[#F0EFE8] border-t border-gray-200 flex items-center px-4 gap-3">
              <input type="text" id="groupMessageInput" placeholder="Tapez votre message..." 
                     class="flex-1 bg-white rounded-full px-4 py-2 border border-gray-300 focus:outline-none focus:border-primary transition-colors">
              <button id="sendGroupMessageBtn" class="w-10 h-10 bg-green-500 rounded-full flex items-center justify-center hover:bg-green-600 transition-colors">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="white" viewBox="0 0 16 16">
                    <path d="M15.964.686a.5.5 0 0 0-.65-.65L.767 5.855H.766l-.452.18a.5.5 0 0 0-.082.887l.41.26.001.002 4.995 3.178 1.59 2.498C8 14 8 13 8 12.5a4.5 4.5 0 1 1 5.026-5.025l3.178-4.995.002-.002.26-.41a.5.5 0 0 0-.887-.082l-.18.452z"/>
                </svg>
              </button>
            </div>
          </div>
        </div>

        <!-- Section Diffusions (cach√©e par d√©faut) -->
        <div id="diffusions-section" class="content-section w-full hidden flex">
          <!-- Liste des contacts -->
          <div class="w-[44.4%] h-full bg-[#F9F7F5] flex flex-col">
            <!-- En-t√™te avec compteur et actions -->
            <div class="h-[5vh] px-[20px] py-[10px] flex justify-between items-center">
              <label class="text-[25px]">Diffusions</label>
              <span id="selection-counter" class="text-sm font-medium text-primary"></span>
            </div>
            
            <!-- Barre de recherche -->
            <div class="px-[20px] mb-2">
              <input type="text" 
                     id="diffusionsSearch" 
                     class="h-[30px] w-full border rounded px-4" 
                     placeholder="Rechercher un contact">
            </div>
            
            <!-- Boutons d'action -->
            <div class="px-[20px] mb-3 flex gap-2">
              <button onclick="selectAllContacts()" 
                      class="flex-1 px-3 py-2 bg-primary text-white rounded-lg hover:bg-yellow-500 transition-colors text-sm">
                Tout s√©lectionner
              </button>
              <button onclick="clearSelection()" 
                      class="flex-1 px-3 py-2 bg-gray-400 text-white rounded-lg hover:bg-gray-500 transition-colors text-sm">
                Tout d√©s√©lectionner
              </button>
            </div>
            
            <!-- Liste des contacts -->
            <div id="diffusions-list" class="flex-1 overflow-y-auto">
              <!-- Les contacts seront ajout√©s ici dynamiquement -->
            </div>
          </div>
          
          <!-- Zone de chat -->
          <div class="w-[55.6%] h-full bg-[#E8E3D3] flex flex-col">
            <!-- Message d'information -->
            <div id="diffusion-info" class="h-full flex items-center justify-center text-gray-500">
              <div class="text-center text-gray-500 p-8">
                <div class="text-6xl mb-4">üì¢</div>
                <div class="text-lg mb-2">Diffusions</div>
                <div class="text-sm">S√©lectionnez des contacts pour envoyer un message group√©</div>
              </div>
            </div>
            
            <!-- Zone de saisie -->
            <div id="diffusions-message-input-area" class="h-16 bg-[#F0EFE8] border-t border-gray-200 flex items-center px-4 gap-3 hidden">
              <input type="text" 
                     id="diffusionsMessageInput" 
                     placeholder="Tapez votre message..." 
                     class="flex-1 bg-white rounded-full px-4 py-2 border border-gray-300 focus:outline-none focus:border-primary transition-colors"
                     disabled>
              <button id="diffusionsSendBtn" 
                      class="w-10 h-10 bg-green-500 rounded-full flex items-center justify-center hover:bg-green-600 transition-colors"
                      disabled>
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="white" viewBox="0 0 16 16">
                    <path d="M15.964.686a.5.5 0 0 0-.65-.65L.767 5.855H.766l-.452.18a.5.5 0 0 0-.082.887l.41.26.001.002 4.995 3.178 1.59 2.498C8 14 8 13 8 12.5a4.5 4.5 0 1 1 5.026-5.025l3.178-4.995.002-.002.26-.41a.5.5 0 0 0-.887-.082l-.18.452z"/>
                </svg>
              </button>
            </div>
          </div>
        </div>

        <!-- Section Archives (cach√©e par d√©faut) -->
        <div id="archives-section" class="content-section w-full hidden flex">
          <div id="archives-container" class="flex-1 overflow-y-auto p-4">
              <!-- Le contenu des archives sera inject√© ici -->
          </div>
        </div>

        <!-- Section Nouveau -->
        <div id="nouveau-section" class="content-section w-full hidden flex">
          <!-- Liste des conversations avec layout fixe -->
          <div class="w-[44.4%] h-full bg-conversations flex flex-col">
            <!-- Layout fixe - Header -->
            <div class="h-[5vh] px-[20px] py-[10px] text-[25px]">
              <label for="">Nouveau Contact</label>
            </div>
            <!-- Layout fixe - Search -->
            <div class="px-[20px] mb-5">
              <input type="text" class="h-[30px] w-full border rounded px-4" placeholder="Recherche">
            </div>
            
            <!-- Form Section -->
            <div class="px-5 py-4 bg-white mx-4 rounded-lg shadow-sm mb-4">
              <form id="discussionForm" class="space-y-4" onsubmit="submitForm(event)">
    <div>
        <label class="block text-sm font-medium text-gray-700 mb-2">Pr√©nom</label>
        <input 
            type="text" 
            id="prenom" 
            class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-primary focus:outline-none transition-all duration-200 hover:border-gray-300" 
            placeholder="Entrez le pr√©nom"
            value=""
        >
        <div id="prenom-error" class="text-red-500 text-sm mt-1 hidden"></div>
    </div>
    <div>
        <label class="block text-sm font-medium text-gray-700 mb-2">Nom</label>
        <input 
            type="text" 
            id="nom" 
            class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-primary focus:outline-none transition-all duration-200 hover:border-gray-300" 
            placeholder="Entrez le nom"
            value=""
        >
        <div id="nom-error" class="text-red-500 text-sm mt-1 hidden"></div>
    </div>
    <div>
        <label class="block text-sm font-medium text-gray-700 mb-2">Contact</label>
        <input 
            type="tel" 
            id="contact" 
            class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-primary focus:outline-none transition-all duration-200 hover:border-gray-300" 
            placeholder="77XXXXXXX"
            value=""
        >
        <div id="contact-error" class="text-red-500 text-sm mt-1 hidden"></div>
    </div>
    <div class="flex gap-3 pt-2">
        <button type="button" class="flex-1 px-6 py-3 bg-gray-400 text-white rounded-xl hover:bg-gray-500 transition-colors duration-200 font-medium" onclick="clearForm()">
            Annuler
        </button>
        <button type="submit" class="w-12 h-12 bg-primary text-white rounded-full hover:bg-yellow-500 transition-all duration-200 flex items-center justify-center text-xl font-light hover:scale-105">
            +
        </button>
    </div>
</form>
            </div>
            
            <!-- Message d'information -->
            <div class="flex-1 flex items-center justify-center">
              <div class="text-center text-gray-500 p-8">
                <p class="text-lg mb-2">Cr√©ez un nouveau contact</p>
                <p class="text-sm">Les contacts ajout√©s appara√Ætront dans la section Diffusions</p>
              </div>
            </div>
          </div>
          
          <!-- Zone de chat principale -->
          <div class="w-[55.6%] h-full bg-chat flex flex-col">
            <!-- Header du chat -->
            <div class="h-[60px] bg-sidebar flex items-center px-4 border-b border-gray-300">
              <div class="w-10 h-10 bg-gray-500 rounded-full mr-3"></div>
              <div class="flex-1">
                <div class="font-semibold text-lg">Nouveau Contact</div>
              </div>
              <div class="flex gap-2">
                <div class="w-8 h-8 bg-orange-500 rounded-full flex items-center justify-center cursor-pointer hover:scale-110 transition-transform">
                  <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" fill="white" viewBox="0 0 16 16">
                    <path d="M0 5a2 2 0 0 1 2-2h7.5a2 2 0 0 1 1.6.8L14 7.5a2.5 2.5 0 0 1 0 1L11.1 12.2a2 2 0 0 1-1.6.8H2a2 2 0 0 1-2-2V5Z"/>
                  </svg>
                </div>
                <div class="w-8 h-8 bg-gray-500 rounded-full flex items-center justify-center cursor-pointer hover:scale-110 transition-transform">
                  <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="white" viewBox="0 0 16 16">
                    <path d="M3.654 1.328a.678.678 0 0 0-1.015-.063L1.605 2.3c-.483.484-.661 1.169-.45 1.77a17.568 17.568 0 0 0 4.168 6.608 17.569 17.569 0 0 0 6.608 4.168c.601.211 1.286.033 1.77-.45l1.034-1.034a.678.678 0 0 0-.063-1.015l-2.307-1.794a.678.678 0 0 0-.58-.122L9.98 10.63a6.304 6.304 0 0 1-1.628-.471 6.305 6.305 0 0 1-1.247-.919l-.105-.105a6.305 6.305 0 0 1-.919-1.247 6.304 6.304 0 0 1-.471-1.628l.199-1.805a.678.678 0 0 0-.122-.58L3.654 1.328Z"/>
                  </svg>
                </div>
                <div class="w-8 h-8 bg-black rounded-full flex items-center justify-center cursor-pointer hover:scale-110 transition-transform">
                  <svg xmlns="http://www.w3.org/2000/svg" width="10" height="10" fill="white" viewBox="0 0 16 16">
                    <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"/>
                  </svg>
                </div>
              </div>
            </div>
            
            <!-- Zone des messages -->
            <div class="flex-1 p-4 overflow-y-auto space-y-4 flex items-center justify-center">
              <div class="text-center text-gray-500">
                <div class="text-6xl mb-4">üìù</div>
                <div class="text-lg mb-2">Cr√©er un nouveau contact</div>
                <div class="text-sm">Remplissez le formulaire pour ajouter un contact aux diffusions</div>
              </div>
            </div>
            
            <!-- Zone de saisie d√©sactiv√©e -->
            <div class="h-[60px] bg-sidebar flex items-center px-4 gap-3 border-t border-gray-300">
              <input 
                type="text"
                placeholder="Cr√©ez d'abord un contact..."
                class="flex-1 bg-gray-100 rounded-full px-4 py-2 border border-gray-300 cursor-not-allowed"
                disabled
              >
              <button class="w-10 h-10 bg-gray-400 rounded-full flex items-center justify-center cursor-not-allowed" disabled>
               <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-right text-white" viewBox="0 0 16 16">
                  <path fill-rule="evenodd" d="M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8"/>
                </svg>
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Modal de cr√©ation de groupe -->
<div id="createGroupModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
    <div class="bg-white rounded-lg w-[500px] p-6 shadow-xl">
        <h2 class="text-2xl font-bold mb-4">Cr√©er un nouveau groupe</h2>
        
        <form id="groupForm" class="space-y-4">
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-2">Nom du groupe</label>
                <input 
                    type="text" 
                    id="groupName" 
                    class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-primary focus:outline-none transition-all duration-200 hover:border-gray-300" 
                    placeholder="Entrez le nom du groupe"
                >
                <div id="groupName-error" class="text-red-500 text-sm mt-1 hidden"></div>
            </div>

            <!-- Nouveau champ pour la description -->
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-2">Description</label>
                <textarea 
                    id="groupDescription" 
                    class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-primary focus:outline-none transition-all duration-200 hover:border-gray-300 resize-none" 
                    placeholder="D√©crivez le but de ce groupe"
                    rows="3"
                ></textarea>
                <div id="groupDescription-error" class="text-red-500 text-sm mt-1 hidden"></div>
            </div>
            
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-2">Membres</label>
                <div class="border-2 border-gray-200 rounded-xl p-4 max-h-[200px] overflow-y-auto">
                    <div id="membersList" class="space-y-2">
                    </div>
                </div>
                <div id="members-error" class="text-red-500 text-sm mt-1 hidden"></div>
            </div>

            <div class="flex gap-3 pt-4">
                <button type="button" id="cancelGroupBtn" class="flex-1 px-6 py-3 bg-gray-400 text-white rounded-xl hover:bg-gray-500 transition-colors duration-200 font-medium">
                    Annuler
                </button>
                <button type="submit" class="flex-1 px-6 py-3 bg-primary text-white rounded-xl hover:bg-yellow-500 transition-colors duration-200 font-medium">
                    Cr√©er
                </button>
            </div>
        </form>
    </div>
</div>

<!-- Modal pour ajouter des membres -->
<div id="addMembersModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
    <div class="bg-white rounded-lg w-[500px] p-6 shadow-xl">
        <h2 class="text-2xl font-bold mb-4">Ajouter des membres</h2>
        
        <div class="mb-4">
            <label class="block text-sm font-medium text-gray-700 mb-2">Contacts disponibles</label>
            <div class="border-2 border-gray-200 rounded-xl p-4 max-h-[300px] overflow-y-auto">
                <div id="availableMembersList" class="space-y-2">
                    <!-- Les contacts disponibles seront ajout√©s ici dynamiquement -->
                </div>
            </div>
        </div>

        <div class="flex gap-3 pt-4">
            <button type="button" id="cancelAddMembersBtn" 
                    class="flex-1 px-6 py-3 bg-gray-400 text-white rounded-xl hover:bg-gray-500 transition-colors duration-200 font-medium">
                Annuler
            </button>
            <button type="button" id="confirmAddMembersBtn"
                    class="flex-1 px-6 py-3 bg-primary text-white rounded-xl hover:bg-yellow-500 transition-colors duration-200 font-medium">
                Ajouter
            </button>
        </div>
    </div>
</div>

<!-- Navigation de secours directement dans le HTML -->
<script>
// Navigation de secours directement dans le HTML
document.addEventListener('DOMContentLoaded', function() {
    console.log('Fallback navigation loading...');
    
    function switchSection(section) {
        console.log('Switching to:', section);
        
        // Masquer toutes les sections
        document.querySelectorAll('.content-section').forEach(s => {
            s.classList.add('hidden');
            s.classList.remove('flex');
        });
        
        // Afficher la section cibl√©e
        const target = document.getElementById(section + '-section');
        if (target) {
            target.classList.remove('hidden');
            target.classList.add('flex');
        }
        
        // Mettre √† jour le sidebar
        document.querySelectorAll('[data-section]').forEach(item => {
            if (item.getAttribute('data-section') === section) {
                item.classList.add('bg-[#DEB449]');
            } else {
                item.classList.remove('bg-[#DEB449]');
            }
        });
    }
    
    // Attacher les √©couteurs d'√©v√©nements
    document.querySelectorAll('[data-section]').forEach(item => {
        item.addEventListener('click', function() {
            const section = this.getAttribute('data-section');
            if (section) {
                switchSection(section);
            }
        });
    });
    
    // Exposer globalement
    window.switchSection = switchSection;
    
    // Commencer par la section messages
    switchSection('messages');
    
    console.log('Fallback navigation initialized');
});
</script>

<!-- Placer ce script AVANT le script module -->
<script type="module" src="src/main.js"></script>
  </body>
</html>